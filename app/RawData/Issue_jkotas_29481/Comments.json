[
    {
        "author_association": "MEMBER",
        "body": "_From @AndyAyersMS on August 23, 2018 15:11_\n\nThis looks like it might be a bug in the C# compiler's optimizer. The IL for `Main` (from  2.10.0.63119 (03b68dcf)) (with /o+) is:\r\n```\r\n.method public hidebysig static void  Main() cil managed\r\n{\r\n  .entrypoint\r\n  // Code size       23 (0x17)\r\n  .maxstack  1\r\n  .try\r\n  {\r\n    IL_0000:  ldc.i4.0\r\n    IL_0001:  pop\r\n    .try\r\n    {\r\n      IL_0002:  leave.s    IL_0016\r\n    }  // end .try\r\n    finally\r\n    {\r\n      IL_0004:  ldstr      \"Prints\"\r\n      IL_0009:  call       void [System.Console]System.Console::WriteLine(string)\r\n      IL_000e:  endfinally\r\n    }  // end handler\r\n  }  // end .try\r\n  finally\r\n  {\r\n    IL_000f:  ldnull\r\n    IL_0010:  call       void [System.Private.CoreLib]System.GC::KeepAlive(object)\r\n    IL_0015:  endfinally\r\n  }  // end handler\r\n  IL_0016:  ret\r\n} // end of method Program::Main\r\n```\r\ncc @jaredpar @VSadov ",
        "created_at": "2018-08-23T23:23:01Z",
        "html_url": "https://github.com/dotnet/roslyn/issues/29481#issuecomment-415603860",
        "id": 415603860,
        "issue_url": "https://api.github.com/repos/dotnet/roslyn/issues/29481",
        "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTYwMzg2MA==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603860/reactions"
        },
        "updated_at": "2018-08-23T23:23:01Z",
        "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603860",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6668460?v=4",
            "events_url": "https://api.github.com/users/jkotas/events{/privacy}",
            "followers_url": "https://api.github.com/users/jkotas/followers",
            "following_url": "https://api.github.com/users/jkotas/following{/other_user}",
            "gists_url": "https://api.github.com/users/jkotas/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jkotas",
            "id": 6668460,
            "login": "jkotas",
            "node_id": "MDQ6VXNlcjY2Njg0NjA=",
            "organizations_url": "https://api.github.com/users/jkotas/orgs",
            "received_events_url": "https://api.github.com/users/jkotas/received_events",
            "repos_url": "https://api.github.com/users/jkotas/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jkotas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jkotas/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jkotas"
        }
    },
    {
        "author_association": "MEMBER",
        "body": "_From @jakobbotsch on August 23, 2018 15:18_\n\nI see, I should've checked. Should I move this over to https://github.com/dotnet/roslyn?",
        "created_at": "2018-08-23T23:23:01Z",
        "html_url": "https://github.com/dotnet/roslyn/issues/29481#issuecomment-415603861",
        "id": 415603861,
        "issue_url": "https://api.github.com/repos/dotnet/roslyn/issues/29481",
        "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTYwMzg2MQ==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603861/reactions"
        },
        "updated_at": "2018-08-23T23:23:01Z",
        "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603861",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6668460?v=4",
            "events_url": "https://api.github.com/users/jkotas/events{/privacy}",
            "followers_url": "https://api.github.com/users/jkotas/followers",
            "following_url": "https://api.github.com/users/jkotas/following{/other_user}",
            "gists_url": "https://api.github.com/users/jkotas/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jkotas",
            "id": 6668460,
            "login": "jkotas",
            "node_id": "MDQ6VXNlcjY2Njg0NjA=",
            "organizations_url": "https://api.github.com/users/jkotas/orgs",
            "received_events_url": "https://api.github.com/users/jkotas/received_events",
            "repos_url": "https://api.github.com/users/jkotas/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jkotas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jkotas/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jkotas"
        }
    },
    {
        "author_association": "MEMBER",
        "body": "_From @VSadov on August 23, 2018 16:11_\n\nLooks like Roslyn bug. \r\nSomething is wrong with dead code elimination. A known to be false condition is eliminated but the consequence block is still emitted - as a fallthrough. So it runs when it should not.",
        "created_at": "2018-08-23T23:23:02Z",
        "html_url": "https://github.com/dotnet/roslyn/issues/29481#issuecomment-415603866",
        "id": 415603866,
        "issue_url": "https://api.github.com/repos/dotnet/roslyn/issues/29481",
        "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTYwMzg2Ng==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603866/reactions"
        },
        "updated_at": "2018-08-23T23:23:02Z",
        "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603866",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6668460?v=4",
            "events_url": "https://api.github.com/users/jkotas/events{/privacy}",
            "followers_url": "https://api.github.com/users/jkotas/followers",
            "following_url": "https://api.github.com/users/jkotas/following{/other_user}",
            "gists_url": "https://api.github.com/users/jkotas/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jkotas",
            "id": 6668460,
            "login": "jkotas",
            "node_id": "MDQ6VXNlcjY2Njg0NjA=",
            "organizations_url": "https://api.github.com/users/jkotas/orgs",
            "received_events_url": "https://api.github.com/users/jkotas/received_events",
            "repos_url": "https://api.github.com/users/jkotas/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jkotas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jkotas/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jkotas"
        }
    },
    {
        "author_association": "MEMBER",
        "body": "_From @jakobbotsch on August 23, 2018 17:40_\n\nI don't think this is related to dead code elimination. This was the original example:\r\n```csharp\r\n// Debug: Outputs True\r\n// Release: Outputs False\r\npublic class Program\r\n{\r\n    static bool s_1 = true;\r\n    static bool[] s_2 = new bool[]{false};\r\n    static long s_6;\r\n    public static void Main()\r\n    {\r\n        M0();\r\n        System.Console.WriteLine(s_1);\r\n    }\r\n\r\n    static void M0()\r\n    {\r\n        try\r\n        {\r\n            if (s_2[0])\r\n            {\r\n                try\r\n                {\r\n                    return;\r\n                }\r\n                finally\r\n                {\r\n                    s_1 = s_2[0];\r\n                }\r\n            }\r\n            else\r\n            {\r\n                return;\r\n            }\r\n        }\r\n        finally\r\n        {\r\n            s_6 = s_6;\r\n        }\r\n    }\r\n}\r\n```\r\n",
        "created_at": "2018-08-23T23:23:02Z",
        "html_url": "https://github.com/dotnet/roslyn/issues/29481#issuecomment-415603868",
        "id": 415603868,
        "issue_url": "https://api.github.com/repos/dotnet/roslyn/issues/29481",
        "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTYwMzg2OA==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603868/reactions"
        },
        "updated_at": "2018-08-23T23:23:02Z",
        "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415603868",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6668460?v=4",
            "events_url": "https://api.github.com/users/jkotas/events{/privacy}",
            "followers_url": "https://api.github.com/users/jkotas/followers",
            "following_url": "https://api.github.com/users/jkotas/following{/other_user}",
            "gists_url": "https://api.github.com/users/jkotas/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jkotas",
            "id": 6668460,
            "login": "jkotas",
            "node_id": "MDQ6VXNlcjY2Njg0NjA=",
            "organizations_url": "https://api.github.com/users/jkotas/orgs",
            "received_events_url": "https://api.github.com/users/jkotas/received_events",
            "repos_url": "https://api.github.com/users/jkotas/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jkotas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jkotas/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jkotas"
        }
    },
    {
        "author_association": "CONTRIBUTOR",
        "body": "It looks like VB has similar problem:\r\n```\r\nImports System\r\n\r\nClass C\r\n    Shared Sub Main()\r\n        try\r\n            Dim b As Boolean = false\r\n            if b\r\n                try\r\n                    return\r\n                finally\r\n                    Console.WriteLine(\"Prints\")\r\n                end try\r\n            else\r\n                return\r\n            end if\r\n        finally\r\n            GC.KeepAlive(Nothing)\r\n        end try\r\n    End Sub\r\nEnd Class\r\n```\r\n",
        "created_at": "2018-08-24T17:13:29Z",
        "html_url": "https://github.com/dotnet/roslyn/issues/29481#issuecomment-415823144",
        "id": 415823144,
        "issue_url": "https://api.github.com/repos/dotnet/roslyn/issues/29481",
        "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTgyMzE0NA==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415823144/reactions"
        },
        "updated_at": "2018-08-24T17:13:29Z",
        "url": "https://api.github.com/repos/dotnet/roslyn/issues/comments/415823144",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10522107?v=4",
            "events_url": "https://api.github.com/users/AlekseyTs/events{/privacy}",
            "followers_url": "https://api.github.com/users/AlekseyTs/followers",
            "following_url": "https://api.github.com/users/AlekseyTs/following{/other_user}",
            "gists_url": "https://api.github.com/users/AlekseyTs/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/AlekseyTs",
            "id": 10522107,
            "login": "AlekseyTs",
            "node_id": "MDQ6VXNlcjEwNTIyMTA3",
            "organizations_url": "https://api.github.com/users/AlekseyTs/orgs",
            "received_events_url": "https://api.github.com/users/AlekseyTs/received_events",
            "repos_url": "https://api.github.com/users/AlekseyTs/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/AlekseyTs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AlekseyTs/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/AlekseyTs"
        }
    }
]
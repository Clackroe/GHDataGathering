{
    "active_lock_reason": "too heated",
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "when we have storage OOM gradle doesn't sygnalize that, instead proper info we have a bullshit :)\r\n\r\n`$ gradle clean`\r\n\r\n>FAILURE: Build failed with an exception.\r\n>\r\n>* What went wrong:\r\n>Unable to start the daemon process.\r\n>This problem might be caused by incorrect configuration of the daemon.\r\n>For example, an unrecognized jvm option is used.\r\n>Please refer to the user guide chapter on the daemon at >https://docs.gradle.org/4.7/userguide/gradle_daemon.html\r\n>Please read the following process output to find out more:`\r\n>-----------------------\r\n>* Try:\r\n>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log >output. Run with --scan to get full insights.\r\n\r\nUnable to start the daemon process... **when explicity run with false flag in props file**\r\n\r\nthe next try maybe gradle didn't read the prop file proper .. **so explicity set no deamon arg**\r\n\r\n`$ gradle --info --no-daemon clean`\r\n\r\n>Initialized native services in: /opt/gradle/ceph3us/native\r\nTo honour the JVM settings for this build a new JVM will be forked. Please consider using the daemon: https://docs.gradle.org/4.7/userguide/gradle_daemon.html.\r\nStarting process 'Gradle build daemon'. Working directory: /opt/gradle/ceph3us/daemon/4.7 Command: /opt/jdk1.8/bin/java -XX:+AggressiveOpts -XX:+UseG1GC -Xmn512m -XX:MaxMetaspaceSize=1g -XX:SurvivorRatio=40 -XX:+UseCompressedOops -XX:+UseCompressedClassPointers -XX:-OmitStackTraceInFastThrow -XX:SoftRefLRUPolicyMSPerMB=100 -XX:-HeapDumpOnOutOfMemoryError -Xms512m -Xmx3g -Dfile.encoding=UTF-8 -Duser.country=PL -Duser.language=pl -Duser.variant -cp /opt/gradle/lib/gradle-launcher-4.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 4.7\r\nSuccessfully started process 'Gradle build daemon'\r\nAn attempt to start the daemon took 1.005 secs.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n>* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/4.7/userguide/gradle_daemon.html\r\nPlease read the following process output to find out more:\r\n-----------------------\r\n\r\n\r\n>* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n>* Get more help at https://help.gradle.org\r\n\r\nstill some daemon shit WTF ??? one more try brings same results of bulshit doeasnt reveal the TRUE CAUSE for BUILD FAILED \r\n\r\n'$ gradle --debug --no-daemon clean'\r\n\r\n>{ unrelated sensitive data cut}\r\n>16:50:14.639 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Changing state to: STARTING\r\n16:50:14.640 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Waiting until process started: Gradle build daemon.\r\n16:50:14.655 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Changing state to: STARTED\r\n16:50:14.656 [INFO] [org.gradle.process.internal.DefaultExecHandle] Successfully started process 'Gradle build daemon'\r\n16:50:14.656 [DEBUG] [org.gradle.launcher.daemon.client.DefaultDaemonStarter] Gradle daemon process is starting. Waiting for the daemon to detach...\r\n16:50:14.657 [DEBUG] [org.gradle.process.internal.ExecHandleRunner] waiting until streams are handled...\r\n16:50:14.659 [DEBUG] [org.gradle.launcher.daemon.bootstrap.DaemonOutputConsumer] Starting consuming the daemon process output.\r\n16:50:15.611 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Changing state to: DETACHED\r\n16:50:15.611 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Process 'Gradle build daemon' finished with exit value 0 (state: DETACHED)\r\n16:50:15.611 [DEBUG] [org.gradle.launcher.daemon.client.DefaultDaemonStarter] Gradle daemon process is now detached.\r\n16:50:15.613 [INFO] [org.gradle.launcher.daemon.client.DefaultDaemonStarter] An attempt to start the daemon took 0.982 secs.\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Unable to start the daemon process.\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] This problem might be caused by incorrect configuration of the daemon.\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] For example, an unrecognized jvm option is used.\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Please refer to the user guide chapter on the daemon at https://docs.gradle.org/4.7/userguide/gradle_daemon.html\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Please read the following process output to find out more:\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] -----------------------\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\r\n16:50:15.620 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Run with --stacktrace option to get the stack trace.  Run with --scan to get full insights.\r\n16:50:15.621 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n16:50:15.621 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\r\n\r\n**pleaes add OOM storage watcher during task execution that will throw some sort of StorageOOM exception**\r\n\r\n**distracts from the fact that there was no memory left at the start of the gradle .. which should be signalized apriori any taskl start / evaluate**\r\n\r\ntneet to consider the SPACE \r\n-- WHERE PROJECT IS EXECUTED (build output)   \r\n-- WHEN GRADLE WRITES  (cache, etc) \r\n\r\n**those places should be checked during start gradle (LOW MEM WARNING) and monitored as mentioned above**\r\n\r\n\r\ni have wasted 5 min befor i did to know the real cause.. ",
    "closed_at": "2018-07-09T20:30:35Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1191797?v=4",
        "events_url": "https://api.github.com/users/oehme/events{/privacy}",
        "followers_url": "https://api.github.com/users/oehme/followers",
        "following_url": "https://api.github.com/users/oehme/following{/other_user}",
        "gists_url": "https://api.github.com/users/oehme/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/oehme",
        "id": 1191797,
        "login": "oehme",
        "node_id": "MDQ6VXNlcjExOTE3OTc=",
        "organizations_url": "https://api.github.com/users/oehme/orgs",
        "received_events_url": "https://api.github.com/users/oehme/received_events",
        "repos_url": "https://api.github.com/users/oehme/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/oehme/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/oehme/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/oehme"
    },
    "comments": 3,
    "comments_url": "https://api.github.com/repos/gradle/gradle/issues/5911/comments",
    "created_at": "2018-07-09T15:29:20Z",
    "events_url": "https://api.github.com/repos/gradle/gradle/issues/5911/events",
    "html_url": "https://github.com/gradle/gradle/issues/5911",
    "id": 339498894,
    "labels": [],
    "labels_url": "https://api.github.com/repos/gradle/gradle/issues/5911/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMzk0OTg4OTQ=",
    "number": 5911,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/gradle/gradle/issues/5911/reactions"
    },
    "repository_url": "https://api.github.com/repos/gradle/gradle",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/gradle/gradle/issues/5911/timeline",
    "title": "storage OOM not proper handled by gradle ",
    "updated_at": "2018-07-18T14:38:37Z",
    "url": "https://api.github.com/repos/gradle/gradle/issues/5911",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10565704?v=4",
        "events_url": "https://api.github.com/users/c3ph3us/events{/privacy}",
        "followers_url": "https://api.github.com/users/c3ph3us/followers",
        "following_url": "https://api.github.com/users/c3ph3us/following{/other_user}",
        "gists_url": "https://api.github.com/users/c3ph3us/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/c3ph3us",
        "id": 10565704,
        "login": "c3ph3us",
        "node_id": "MDQ6VXNlcjEwNTY1NzA0",
        "organizations_url": "https://api.github.com/users/c3ph3us/orgs",
        "received_events_url": "https://api.github.com/users/c3ph3us/received_events",
        "repos_url": "https://api.github.com/users/c3ph3us/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/c3ph3us/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/c3ph3us/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/c3ph3us"
    }
}
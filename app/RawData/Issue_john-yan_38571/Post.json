{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\nThank you for reporting an issue.\r\n\r\nThis issue tracker is for bugs and issues found within Node.js core.\r\nIf you require more general support please file an issue on our help\r\nrepo. https://github.com/nodejs/help\r\n\r\n\r\nPlease fill in as much of the template below as you're able.\r\n\r\nVersion: master\r\nPlatform: Ubuntu X64 or PPC64LE\r\n-->\r\n\r\n* **Version**: master\r\n* **Platform**: Ubuntu\r\n* **Subsystem**: X64 or PPC64LE\r\n\r\n### What steps will reproduce the bug?\r\n./configure --debug --v8-non-optimized-debug\r\nmake -j32\r\n\r\n<!--\r\nEnter details about your bug, preferably a simple code snippet that can be\r\nrun using `node` directly without installing third-party dependencies.\r\n-->\r\n\r\n### How often does it reproduce? Is there a required condition?\r\nConsistently\r\n \r\n### What is the expected behavior?\r\ncompilation successful\r\n\r\n<!--\r\nIf possible please provide textual output instead of screenshots.\r\n-->\r\n\r\n### What do you see instead?\r\nLinker fail because a ton of undefined ref\r\neg.\r\n\r\n```\r\n/workdir/node/out/Debug/obj/gen/torque-generated/src/objects/fixed-array-tq-inl.inc:287: undefined reference to `v8::internal::IsFixedArrayBase_NonInline(v8::internal::HeapObject)'\r\n/usr/bin/ld: /workdir/node/out/Debug/obj.target/mksnapshot/deps/v8/src/snapshot/embedded/embedded-file-writer.o: in function `v8::internal::TorqueGeneratedByteArray<v8::internal::ByteArray, v8::internal::FixedArrayBase>::TorqueGeneratedByteArray(unsigned long)':\r\n/workdir/node/out/Debug/obj/gen/torque-generated/src/objects/fixed-array-tq-inl.inc:349: undefined reference to `v8::internal::IsByteArray_NonInline(v8::internal::HeapObject)'\r\n/usr/bin/ld: /workdir/node/out/Debug/obj.target/v8_base_without_compiler/deps/v8/src/api/api.o: in function `v8::internal::TorqueGeneratedPrimitiveHeapObject<v8::internal::PrimitiveHeapObject, v8::internal::HeapObject>::TorqueGeneratedPrimitiveHeapObject(unsigned long)':\r\n/workdir/node/out/Debug/obj/gen/torque-generated/src/objects/primitive-heap-object-tq-inl.inc:4: undefined reference to `v8::internal::IsPrimitiveHeapObject_NonInline(v8::internal::HeapObject)'\r\n/usr/bin/ld: /workdir/node/out/Debug/obj.target/v8_base_without_compiler/deps/v8/src/api/api.o: in function `v8::internal::TorqueGeneratedHeapNumber<v8::internal::HeapNumber, v8::internal::PrimitiveHeapObject>::TorqueGeneratedHeapNumber(unsigned long)':\r\n/workdir/node/out/Debug/obj/gen/torque-generated/src/objects/heap-number-tq-inl.inc:15: undefined reference to `v8::internal::IsHeapNumber_NonInline(v8::internal::HeapObject)'\r\n/usr/bin/ld: /workdir/node/out/Debug/obj.target/v8_base_without_compiler/deps/v8/src/api/api.o: in function `v8::internal::TorqueGeneratedJSProxy<v8::internal::JSProxy, v8::internal::JSReceiver>::TorqueGeneratedJSProxy(unsigned long)':\r\n```\r\n\r\n### Additional information\r\n\r\nSome of the torque generated .cc are not being compiled to .o eg. `fixed-array-tq.o`. Therefore, at the linking step, definition are missing. I suspect either gpy is not working or the GN scraper is not working as expected. I also check the Release build, fixed-array-tq.o is also missing but for some reason it compiles OK. All the torque generated .cc file are compiled to .o by GN+ninja on standalone v8 compilation.\r\n\r\n",
    "closed_at": "2021-05-07T18:11:46Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5445507?v=4",
        "events_url": "https://api.github.com/users/richardlau/events{/privacy}",
        "followers_url": "https://api.github.com/users/richardlau/followers",
        "following_url": "https://api.github.com/users/richardlau/following{/other_user}",
        "gists_url": "https://api.github.com/users/richardlau/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/richardlau",
        "id": 5445507,
        "login": "richardlau",
        "node_id": "MDQ6VXNlcjU0NDU1MDc=",
        "organizations_url": "https://api.github.com/users/richardlau/orgs",
        "received_events_url": "https://api.github.com/users/richardlau/received_events",
        "repos_url": "https://api.github.com/users/richardlau/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/richardlau/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/richardlau/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/richardlau"
    },
    "comments": 6,
    "comments_url": "https://api.github.com/repos/nodejs/node/issues/38571/comments",
    "created_at": "2021-05-06T15:19:39Z",
    "events_url": "https://api.github.com/repos/nodejs/node/issues/38571/events",
    "html_url": "https://github.com/nodejs/node/issues/38571",
    "id": 877613600,
    "labels": [
        {
            "color": "eb6420",
            "default": false,
            "description": "Issues and PRs related to build files or the CI.",
            "id": 171787391,
            "name": "build",
            "node_id": "MDU6TGFiZWwxNzE3ODczOTE=",
            "url": "https://api.github.com/repos/nodejs/node/labels/build"
        }
    ],
    "labels_url": "https://api.github.com/repos/nodejs/node/issues/38571/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU4Nzc2MTM2MDA=",
    "number": 38571,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/nodejs/node/issues/38571/reactions"
    },
    "repository_url": "https://api.github.com/repos/nodejs/node",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/nodejs/node/issues/38571/timeline",
    "title": "Node.js would not compile with --debug --v8-non-optimized-debug",
    "updated_at": "2021-05-07T18:35:46Z",
    "url": "https://api.github.com/repos/nodejs/node/issues/38571",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1722371?v=4",
        "events_url": "https://api.github.com/users/john-yan/events{/privacy}",
        "followers_url": "https://api.github.com/users/john-yan/followers",
        "following_url": "https://api.github.com/users/john-yan/following{/other_user}",
        "gists_url": "https://api.github.com/users/john-yan/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/john-yan",
        "id": 1722371,
        "login": "john-yan",
        "node_id": "MDQ6VXNlcjE3MjIzNzE=",
        "organizations_url": "https://api.github.com/users/john-yan/orgs",
        "received_events_url": "https://api.github.com/users/john-yan/received_events",
        "repos_url": "https://api.github.com/users/john-yan/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/john-yan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/john-yan/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/john-yan"
    }
}
{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Hi I have a clean anaconda installation and I create a new python environment, and install jupyter in it. When I run \r\nipython qtconsole --debug,\r\nthe kernel crashes every 3 seconds.\r\nI have verified this behaviour on clean installs on multiple machines, they are all Windows Server 2008R2. Is there some kind of kernel logging I can turn on to see what is causing the kernel to crash?\r\n\r\n```\r\nconda create -n fx_env python\r\nconda activate fx_env\r\nconda install jupyter\r\n```\r\n\r\nFrom this environement when I run qtconsole I get this crash. I get the same result in spyder as well ( which is what I was originally trying to troubleshoot, but have narrowed it down to this). Any hints or suggestions greatly appreciated. Even knowing how to make the kernel log somewhere I can see would be really helpful to see what is causing the crash. It's every 3 seconds which is suspicious...\r\n\r\n\r\n\r\n```\r\n(fx_env) C:\\ProgramData\\Anaconda3\\envs>ipython qtconsole --debug\r\n[TerminalIPythonApp] WARNING | Subcommand `ipython qtconsole` is deprecated and will be removed in future versions.\r\n[TerminalIPythonApp] WARNING | You likely want to use `jupyter qtconsole` in the future\r\n[JupyterQtConsoleApp] Searching ['C:\\\\ProgramData\\\\Anaconda3\\\\envs', 'C:\\\\Users\\\\abc_user\\\\.jupyter', 'C:\\\\ProgramData\\\\Anaconda3\\\\envs\\\\fx_env\\\\etc\\\\jupyter',\r\n'C:\\\\ProgramData\\\\jupyter'] for config files\r\n[JupyterQtConsoleApp] Looking for jupyter_config in C:\\ProgramData\\jupyter\r\n[JupyterQtConsoleApp] Looking for jupyter_config in C:\\ProgramData\\Anaconda3\\envs\\fx_env\\etc\\jupyter\r\n[JupyterQtConsoleApp] Looking for jupyter_config in C:\\Users\\abc_user\\.jupyter\r\n[JupyterQtConsoleApp] Looking for jupyter_config in C:\\ProgramData\\Anaconda3\\envs\r\n[JupyterQtConsoleApp] Looking for jupyter_qtconsole_config in C:\\ProgramData\\jupyter\r\n[JupyterQtConsoleApp] Looking for jupyter_qtconsole_config in C:\\ProgramData\\Anaconda3\\envs\\fx_env\\etc\\jupyter\r\n[JupyterQtConsoleApp] Looking for jupyter_qtconsole_config in C:\\Users\\abc_user\\.jupyter\r\n[JupyterQtConsoleApp] Looking for jupyter_qtconsole_config in C:\\ProgramData\\Anaconda3\\envs\r\n[JupyterQtConsoleApp] Connection File not found: P:\\jupyter\\runtime\\kernel-9188.json\r\n[JupyterQtConsoleApp] Starting kernel: ['C:/ProgramData/Anaconda3/envs/fx_env\\\\python.exe', '-m', 'ipykernel_launcher', '-f', 'P:\\\\jupyter\\\\runtime\\\\kernel-9188.json']\r\n[JupyterQtConsoleApp] Connecting to: tcp://127.0.0.1:28153\r\n[JupyterQtConsoleApp] connecting shell channel to tcp://127.0.0.1:28097\r\n[JupyterQtConsoleApp] Connecting to: tcp://127.0.0.1:28097\r\n[JupyterQtConsoleApp] connecting iopub channel to tcp://127.0.0.1:28047\r\n[JupyterQtConsoleApp] Connecting to: tcp://127.0.0.1:28047\r\n[JupyterQtConsoleApp] connecting stdin channel to tcp://127.0.0.1:28177\r\n[JupyterQtConsoleApp] Connecting to: tcp://127.0.0.1:28177\r\n[JupyterQtConsoleApp] connecting heartbeat channel to tcp://127.0.0.1:28166\r\n[JupyterQtConsoleApp] connecting control channel to tcp://127.0.0.1:28153\r\n[JupyterQtConsoleApp] Connecting to: tcp://127.0.0.1:28153\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.0002999305725098\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.006300687789917\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.0002999305725098\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.000300168991089\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.000300168991089\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.0002999305725098\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.000300168991089\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.000300168991089\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.015301465988159\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.0153017044067383\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.0002999305725098\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.013301372528076\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.010300874710083\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.000300168991089\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.000300168991089\r\n[JupyterQtConsoleApp] Kernel is taking too long to finish, killing\r\nC:\\ProgramData\\Anaconda3\\envs\\fx_env\\lib\\site-packages\\jupyter_client\\manager.py:357: FutureWarning: Method cleanup(connection_file=True) is deprecated, \r\nuse cleanup_resources(restart=False).  warnings.warn(\"Method cleanup(connection_file=True) is deprecated, use cleanup_resources(restart=False).\",\r\n[JupyterQtConsoleApp] WARNING | kernel died: 3.0002996921539307\r\n\r\n```\r\n\r\nSome more info on the environment:\r\nconda info:\r\n\r\n```\r\n(fx_env) C:\\ProgramData\\Anaconda3\\envs>conda info\r\n\r\n     active environment : fx_env\r\n    active env location : C:\\ProgramData\\Anaconda3\\envs\\fx_env\r\n            shell level : 4\r\n       user config file : C:\\Users\\abc_user\\.condarc\r\n populated config files : C:\\Users\\abc_user\\.condarc\r\n          conda version : 4.8.2\r\n    conda-build version : 3.18.11\r\n         python version : 3.7.6.final.0\r\n       virtual packages :\r\n       base environment : C:\\ProgramData\\Anaconda3  (read only)\r\n           channel URLs : https://repo.anaconda.com/pkgs/main/win-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/win-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n                          https://repo.anaconda.com/pkgs/msys2/win-64\r\n                          https://repo.anaconda.com/pkgs/msys2/noarch\r\n                          https://conda.anaconda.org/conda-forge/win-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n          package cache : C:\\ProgramData\\Anaconda3\\pkgs\r\n                          C:\\Users\\abc_user\\.conda\\pkgs\r\n                          C:\\Users\\abc_user\\AppData\\Local\\conda\\conda\\pkgs\r\n       envs directories : C:\\ProgramData\\Anaconda3\\envs\r\n                          c:\\Anaconda3\\envs\r\n                          C:\\Users\\abc_user\\.conda\\envs\r\n                          C:\\Users\\abc_user\\AppData\\Local\\conda\\conda\\envs\r\n               platform : win-64\r\n             user-agent : conda/4.8.2 requests/2.22.0 CPython/3.7.6 Windows/2008ServerR2 Windows/6.1.7601\r\n          administrator : False\r\n             netrc file : None\r\n           offline mode : False\r\n```\r\n\r\nconda list \r\n\r\n```\r\n(fx_env) C:\\ProgramData\\Anaconda3\\envs>conda list\r\n# packages in environment at C:\\ProgramData\\Anaconda3\\envs\\fx_env:\r\n#\r\n# Name                    Version                   Build  Channel\r\nattrs                     19.3.0                     py_0\r\nbackcall                  0.2.0                      py_0\r\nblas                      1.0                         mkl\r\nbleach                    3.1.5                      py_0\r\nca-certificates           2020.6.24                     0\r\ncertifi                   2020.6.20                py38_0\r\ncolorama                  0.4.3                      py_0\r\ndecorator                 4.4.2                      py_0\r\ndefusedxml                0.6.0                      py_0\r\nentrypoints               0.3                      py38_0\r\nicc_rt                    2019.0.0             h0cc432a_1\r\nicu                       58.2                 ha925a31_3\r\nimportlib-metadata        1.7.0                    py38_0\r\nimportlib_metadata        1.7.0                         0\r\nintel-openmp              2020.1                      216\r\nipykernel                 5.3.0            py38h5ca1d4c_0\r\nipython                   7.16.1           py38h5ca1d4c_0\r\nipython_genutils          0.2.0                    py38_0\r\nipywidgets                7.5.1                      py_0\r\njedi                      0.17.1                   py38_0\r\njinja2                    2.11.2                     py_0\r\njpeg                      9b                   hb83a4c4_2\r\njsonschema                3.2.0                    py38_0\r\njupyter                   1.0.0                    py38_7\r\njupyter_client            6.1.5                      py_0\r\njupyter_console           6.1.0                      py_0\r\njupyter_core              4.6.3                    py38_0\r\nlibpng                    1.6.37               h2a8f88b_0\r\nlibsodium                 1.0.18               h62dcd97_0\r\nm2w64-gcc-libgfortran     5.3.0                         6\r\nm2w64-gcc-libs            5.3.0                         7\r\nm2w64-gcc-libs-core       5.3.0                         7\r\nm2w64-gmp                 6.1.0                         2\r\nm2w64-libwinpthread-git   5.0.0.4634.697f757               2\r\nmarkupsafe                1.1.1            py38he774522_0\r\nmistune                   0.8.4           py38he774522_1000\r\nmkl                       2020.1                      216\r\nmkl-service               2.3.0            py38hb782905_0\r\nmkl_fft                   1.1.0            py38h45dec08_0\r\nmkl_random                1.1.1            py38h47e9c7a_0\r\nmsys2-conda-epoch         20160418                      1\r\nnbconvert                 5.6.1                    py38_0\r\nnbformat                  5.0.7                      py_0\r\nnotebook                  6.0.3                    py38_0\r\nnumpy                     1.18.5           py38h6530119_0\r\nnumpy-base                1.18.5           py38hc3f5095_0\r\nopenssl                   1.1.1g               he774522_0\r\npackaging                 20.4                       py_0\r\npandas                    1.0.5            py38h47e9c7a_0\r\npandoc                    2.9.2.1                       0\r\npandocfilters             1.4.2                    py38_1\r\nparso                     0.7.0                      py_0\r\npickleshare               0.7.5                 py38_1000\r\npip                       20.1.1                   py38_1\r\nprometheus_client         0.8.0                      py_0\r\nprompt-toolkit            3.0.5                      py_0\r\nprompt_toolkit            3.0.5                         0\r\npygments                  2.6.1                      py_0\r\npyparsing                 2.4.7                      py_0\r\npyqt                      5.9.2            py38ha925a31_4\r\npyrsistent                0.16.0           py38he774522_0\r\npython                    3.8.3                he1778fa_2\r\npython-dateutil           2.8.1                      py_0\r\npytz                      2020.1                     py_0\r\npywin32                   227              py38he774522_1\r\npywinpty                  0.5.7                    py38_0\r\npyzmq                     19.0.1           py38ha925a31_1\r\nqt                        5.9.7            vc14h73c81de_0\r\nqtconsole                 4.7.5                      py_0\r\nqtpy                      1.9.0                      py_0\r\nsend2trash                1.5.0                    py38_0\r\nsetuptools                47.3.1                   py38_0\r\nsip                       4.19.13          py38ha925a31_0\r\nsix                       1.15.0                     py_0\r\nsqlite                    3.32.3               h2a8f88b_0\r\nterminado                 0.8.3                    py38_0\r\ntestpath                  0.4.4                      py_0\r\ntornado                   6.0.4            py38he774522_1\r\ntraitlets                 4.3.3                    py38_0\r\nvc                        14.1                 h0510ff6_4\r\nvs2015_runtime            14.16.27012          hf0eaf9b_3\r\nwcwidth                   0.2.5                      py_0\r\nwebencodings              0.5.1                    py38_1\r\nwheel                     0.34.2                   py38_0\r\nwidgetsnbextension        3.5.1                    py38_0\r\nwincertstore              0.2                      py38_0\r\nwinpty                    0.4.3                         4\r\nzeromq                    4.3.2                ha925a31_2\r\nzipp                      3.1.0                      py_0\r\nzlib                      1.2.11               h62dcd97_4\r\n\r\n\r\n\r\n\r\n```",
    "closed_at": null,
    "closed_by": null,
    "comments": 8,
    "comments_url": "https://api.github.com/repos/ipython/ipython/issues/12430/comments",
    "created_at": "2020-07-10T12:35:32Z",
    "events_url": "https://api.github.com/repos/ipython/ipython/issues/12430/events",
    "html_url": "https://github.com/ipython/ipython/issues/12430",
    "id": 654750203,
    "labels": [],
    "labels_url": "https://api.github.com/repos/ipython/ipython/issues/12430/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2NTQ3NTAyMDM=",
    "number": 12430,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/ipython/ipython/issues/12430/reactions"
    },
    "repository_url": "https://api.github.com/repos/ipython/ipython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/ipython/ipython/issues/12430/timeline",
    "title": "Kernel crashes every 3 seconds from a fresh install from conda from both default and conda-forge",
    "updated_at": "2021-10-02T09:07:08Z",
    "url": "https://api.github.com/repos/ipython/ipython/issues/12430",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10646418?v=4",
        "events_url": "https://api.github.com/users/penilessquant/events{/privacy}",
        "followers_url": "https://api.github.com/users/penilessquant/followers",
        "following_url": "https://api.github.com/users/penilessquant/following{/other_user}",
        "gists_url": "https://api.github.com/users/penilessquant/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/penilessquant",
        "id": 10646418,
        "login": "penilessquant",
        "node_id": "MDQ6VXNlcjEwNjQ2NDE4",
        "organizations_url": "https://api.github.com/users/penilessquant/orgs",
        "received_events_url": "https://api.github.com/users/penilessquant/received_events",
        "repos_url": "https://api.github.com/users/penilessquant/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/penilessquant/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/penilessquant/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/penilessquant"
    }
}
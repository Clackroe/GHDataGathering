{
    "active_lock_reason": "too heated",
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "##### ISSUE TYPE\r\n - Feature Idea\r\n\r\n##### COMPONENT NAME\r\nansible-vault\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.3.1.0\r\n  config file = \r\n  configured module search path = Default w/o overrides\r\n  python version = 2.7.13 (default, Apr 23 2017, 16:50:35) [GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)]\r\n```\r\n\r\n##### CONFIGURATION\r\nn/a\r\n\r\n##### OS / ENVIRONMENT\r\nn/a\r\n\r\n##### SUMMARY\r\nansible-vault decrypt allows the decryption of completely encrypted yaml files, but it will not decrypt vaulted variables in an unencrypted yaml file with encrypted variables.\r\n\r\nIt would be nice, for CLI purposes, to have decrypt take a partially encrypted file, and give us the decrypted text.\r\n\r\n##### STEPS TO REPRODUCE\r\n* create `test.yml` file with single encrypted variable encrypted by `~/.vault_pass.txt`\r\n* ansible-vault decrypt file\r\n\r\n```\r\nansible-vault decrypt test.yml --vault-password-file ~/.vault_pass.txt\r\n```\r\n\r\n##### EXPECTED RESULTS\r\n* Expected plain text output with encrypted variable decrypted.\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nERROR! input is not vault encrypted data for test.yml\r\n```\r\n",
    "closed_at": "2022-06-22T19:28:12Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6775756?v=4",
        "events_url": "https://api.github.com/users/nitzmahone/events{/privacy}",
        "followers_url": "https://api.github.com/users/nitzmahone/followers",
        "following_url": "https://api.github.com/users/nitzmahone/following{/other_user}",
        "gists_url": "https://api.github.com/users/nitzmahone/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nitzmahone",
        "id": 6775756,
        "login": "nitzmahone",
        "node_id": "MDQ6VXNlcjY3NzU3NTY=",
        "organizations_url": "https://api.github.com/users/nitzmahone/orgs",
        "received_events_url": "https://api.github.com/users/nitzmahone/received_events",
        "repos_url": "https://api.github.com/users/nitzmahone/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nitzmahone/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nitzmahone/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nitzmahone"
    },
    "comments": 37,
    "comments_url": "https://api.github.com/repos/ansible/ansible/issues/26190/comments",
    "created_at": "2017-06-28T16:50:58Z",
    "events_url": "https://api.github.com/repos/ansible/ansible/issues/26190/events",
    "html_url": "https://github.com/ansible/ansible/issues/26190",
    "id": 239227953,
    "labels": [
        {
            "color": "ededed",
            "default": false,
            "description": "This issue/PR affects Ansible v2.3",
            "id": 454885231,
            "name": "affects_2.3",
            "node_id": "MDU6TGFiZWw0NTQ4ODUyMzE=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/affects_2.3"
        },
        {
            "color": "b60205",
            "default": false,
            "description": null,
            "id": 511882096,
            "name": "c:parsing/vault/",
            "node_id": "MDU6TGFiZWw1MTE4ODIwOTY=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/c:parsing/vault/"
        },
        {
            "color": "ededed",
            "default": false,
            "description": "This issue/PR affects Ansible v2.4",
            "id": 562292166,
            "name": "affects_2.4",
            "node_id": "MDU6TGFiZWw1NjIyOTIxNjY=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/affects_2.4"
        },
        {
            "color": "ededed",
            "default": false,
            "description": "This issue/PR relates to code supported by the Ansible Engineering Team.",
            "id": 636352796,
            "name": "support:core",
            "node_id": "MDU6TGFiZWw2MzYzNTI3OTY=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/support:core"
        },
        {
            "color": "fbca04",
            "default": true,
            "description": "This issue/PR relates to a bug.",
            "id": 785271699,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3ODUyNzE2OTk=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/bug"
        },
        {
            "color": "1d76db",
            "default": false,
            "description": "This issue has an associated PR.",
            "id": 814251818,
            "name": "has_pr",
            "node_id": "MDU6TGFiZWw4MTQyNTE4MTg=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/has_pr"
        },
        {
            "color": "006b75",
            "default": false,
            "description": "This issue/PR relates to a feature request.",
            "id": 852590921,
            "name": "feature",
            "node_id": "MDU6TGFiZWw4NTI1OTA5MjE=",
            "url": "https://api.github.com/repos/ansible/ansible/labels/feature"
        }
    ],
    "labels_url": "https://api.github.com/repos/ansible/ansible/issues/26190/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "MDU6SXNzdWUyMzkyMjc5NTM=",
    "number": 26190,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 100,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 100,
        "url": "https://api.github.com/repos/ansible/ansible/issues/26190/reactions"
    },
    "repository_url": "https://api.github.com/repos/ansible/ansible",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/ansible/ansible/issues/26190/timeline",
    "title": "Allow decrypting of files with vaulted variables",
    "updated_at": "2022-06-22T19:28:12Z",
    "url": "https://api.github.com/repos/ansible/ansible/issues/26190",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2132602?v=4",
        "events_url": "https://api.github.com/users/jhkrischel/events{/privacy}",
        "followers_url": "https://api.github.com/users/jhkrischel/followers",
        "following_url": "https://api.github.com/users/jhkrischel/following{/other_user}",
        "gists_url": "https://api.github.com/users/jhkrischel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jhkrischel",
        "id": 2132602,
        "login": "jhkrischel",
        "node_id": "MDQ6VXNlcjIxMzI2MDI=",
        "organizations_url": "https://api.github.com/users/jhkrischel/orgs",
        "received_events_url": "https://api.github.com/users/jhkrischel/received_events",
        "repos_url": "https://api.github.com/users/jhkrischel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jhkrischel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jhkrischel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jhkrischel"
    }
}
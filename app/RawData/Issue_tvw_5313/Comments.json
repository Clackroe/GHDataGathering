[
    {
        "author_association": "COLLABORATOR",
        "body": "This will not be changed for the current generation of CUPS. Only Linux follows the FHS and it is entirely in the distributions power to change the default.\r\n\r\nAlso see the discussion in the [previous issues](https://github.com/apple/cups/issues?q=is%3Aissue+fhs+is%3Aclosed) - at some point in the future we\u2019ll likely change to a more efficient binary format for such things...",
        "created_at": "2018-05-12T17:04:08Z",
        "html_url": "https://github.com/apple/cups/issues/5313#issuecomment-388568930",
        "id": 388568930,
        "issue_url": "https://api.github.com/repos/apple/cups/issues/5313",
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU2ODkzMA==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/apple/cups/issues/comments/388568930/reactions"
        },
        "updated_at": "2018-05-12T17:04:08Z",
        "url": "https://api.github.com/repos/apple/cups/issues/comments/388568930",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/488103?v=4",
            "events_url": "https://api.github.com/users/michaelrsweet/events{/privacy}",
            "followers_url": "https://api.github.com/users/michaelrsweet/followers",
            "following_url": "https://api.github.com/users/michaelrsweet/following{/other_user}",
            "gists_url": "https://api.github.com/users/michaelrsweet/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/michaelrsweet",
            "id": 488103,
            "login": "michaelrsweet",
            "node_id": "MDQ6VXNlcjQ4ODEwMw==",
            "organizations_url": "https://api.github.com/users/michaelrsweet/orgs",
            "received_events_url": "https://api.github.com/users/michaelrsweet/received_events",
            "repos_url": "https://api.github.com/users/michaelrsweet/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/michaelrsweet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/michaelrsweet/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/michaelrsweet"
        }
    },
    {
        "author_association": "NONE",
        "body": "@tvw \r\nregarding your\r\n\"changed by cups, which means, that it stores data rather than configurations\":\r\n\r\nIn general this is not true.\r\n\r\nWhen you run as root e.g. \"lpadmin -p myqueue ...\" to create or modify a print queue\r\nthe lpadmin command talks to the cupsd which does the actual queue configuration\r\n(i.e. as root via lpadmin you request the cupsd to do a configuration for you).\r\n\r\nIn general it is questionable if anything what the cupsd writes\r\ninto its config files in /etc/cups is not a configuration.\r\nBy the way - you may have a look at the section\r\n\"Command-line Tools\" in\r\nhttps://en.opensuse.org/SDB:CUPS_in_a_Nutshell\r\n\r\nI think the general question is if config files in /etc/ are allowed\r\nto be modified by programs (e.g. cupsd or whatever other printer config tools)\r\nor if only manual modifications by a text editor or things like sed are allowed.\r\n\r\nBut in the latter case I wonder what the actual difference is between\r\na text editor or sed that do the actual modifications on the actual files\r\naccording to what the user of that programs request versus when cupsd\r\nor whatever printer config tools change the actual files according to what\r\nthe user of a CUPS client program requests frm cupsd or according to\r\nwhat the user of whatever printer config tool requests it to do.\r\n",
        "created_at": "2018-05-14T07:22:04Z",
        "html_url": "https://github.com/apple/cups/issues/5313#issuecomment-388720688",
        "id": 388720688,
        "issue_url": "https://api.github.com/repos/apple/cups/issues/5313",
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODcyMDY4OA==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/apple/cups/issues/comments/388720688/reactions"
        },
        "updated_at": "2018-05-14T07:22:04Z",
        "url": "https://api.github.com/repos/apple/cups/issues/comments/388720688",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1788608?v=4",
            "events_url": "https://api.github.com/users/jsmeix/events{/privacy}",
            "followers_url": "https://api.github.com/users/jsmeix/followers",
            "following_url": "https://api.github.com/users/jsmeix/following{/other_user}",
            "gists_url": "https://api.github.com/users/jsmeix/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jsmeix",
            "id": 1788608,
            "login": "jsmeix",
            "node_id": "MDQ6VXNlcjE3ODg2MDg=",
            "organizations_url": "https://api.github.com/users/jsmeix/orgs",
            "received_events_url": "https://api.github.com/users/jsmeix/received_events",
            "repos_url": "https://api.github.com/users/jsmeix/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jsmeix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jsmeix/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jsmeix"
        }
    },
    {
        "author_association": "NONE",
        "body": "@michaelrsweet \r\n\r\nBut even BSD has /var/tmp\r\n\r\n@jsmeix \r\n\r\nThe issue is not, how the files are changed but what they contain:\r\n\r\nsubscriptions.conf contains things like \"ExpirationTime\" and \"NextEventId\" etc.\r\n\r\nThis does not look like configurations which tell cupsd something about the environment it runs in but like state it maintains for itself. But /etc is absolutely the wrong place for maintaining state. Otherwise a database engine could also store its table files under /etc.",
        "created_at": "2018-08-16T10:55:56Z",
        "html_url": "https://github.com/apple/cups/issues/5313#issuecomment-413505617",
        "id": 413505617,
        "issue_url": "https://api.github.com/repos/apple/cups/issues/5313",
        "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzUwNTYxNw==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/apple/cups/issues/comments/413505617/reactions"
        },
        "updated_at": "2018-08-16T10:55:56Z",
        "url": "https://api.github.com/repos/apple/cups/issues/comments/413505617",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/64525?v=4",
            "events_url": "https://api.github.com/users/tvw/events{/privacy}",
            "followers_url": "https://api.github.com/users/tvw/followers",
            "following_url": "https://api.github.com/users/tvw/following{/other_user}",
            "gists_url": "https://api.github.com/users/tvw/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/tvw",
            "id": 64525,
            "login": "tvw",
            "node_id": "MDQ6VXNlcjY0NTI1",
            "organizations_url": "https://api.github.com/users/tvw/orgs",
            "received_events_url": "https://api.github.com/users/tvw/received_events",
            "repos_url": "https://api.github.com/users/tvw/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/tvw/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tvw/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/tvw"
        }
    },
    {
        "author_association": "NONE",
        "body": "Just ran into this when I decided it's time to keep etc under version control. It's very annoying.\r\n\r\nNextEventId 1117\r\n\r\nis not configuration it's state and shouldn't be in a config file. I have one machine in my house where /etc/ is read-only and /var is a memdisk. It's that way to protect the (old) SSD from excessive wear. It's not running cups but if it was there would presumably be trouble.\r\n\r\nIt's fine have machine-generated and machine-maintained configs in /etc but that's a different thing.",
        "created_at": "2020-04-28T17:07:19Z",
        "html_url": "https://github.com/apple/cups/issues/5313#issuecomment-620736974",
        "id": 620736974,
        "issue_url": "https://api.github.com/repos/apple/cups/issues/5313",
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDczNjk3NA==",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/apple/cups/issues/comments/620736974/reactions"
        },
        "updated_at": "2020-04-28T17:07:19Z",
        "url": "https://api.github.com/repos/apple/cups/issues/comments/620736974",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/4255463?v=4",
            "events_url": "https://api.github.com/users/fergald/events{/privacy}",
            "followers_url": "https://api.github.com/users/fergald/followers",
            "following_url": "https://api.github.com/users/fergald/following{/other_user}",
            "gists_url": "https://api.github.com/users/fergald/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/fergald",
            "id": 4255463,
            "login": "fergald",
            "node_id": "MDQ6VXNlcjQyNTU0NjM=",
            "organizations_url": "https://api.github.com/users/fergald/orgs",
            "received_events_url": "https://api.github.com/users/fergald/received_events",
            "repos_url": "https://api.github.com/users/fergald/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/fergald/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fergald/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/fergald"
        }
    },
    {
        "author_association": "NONE",
        "body": "I appreciate this, along with the numerous other reports of this as a problem, is a `wontfix`, and it's reassuring that the comment from @michaelrsweet at least leaves open the possibility of this changing in a future version of CUPS.\r\n\r\nAs notes for that future change, however, I'll highlight that this isn't about the FHS specifically, but about BSD, general/historical unix and specific macOS standards.  hier(7) on macOS says that `/etc` is for \u2018system configuration files and scripts\u2019, and the Apple [Filesystem Programming Guide](https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple_ref/doc/uid/TP40010672-CH2-SW7) says that `/etc` \u2018Contains host-specific configuration files.\u2019  I do not agree that there is any reasonable definition of \u2018configuration file\u2019, on any unix flavour, which includes state information such as `ExpirationTime` and `NextEventId`, which are initiated by the daemon rather than the administrator.\r\n\r\n  * I appreciate that there's some attraction to keeping this state information nearby the configuration information; that being attractive doesn't make this OK.\r\n  * I appreciate there isn't a pre-ordained standard location for this, but `/var` is (according to hier(7)) for \u2018multi-purpose log, temporary, transient, and spool files\u2019, which seems to clearly indicate that this sort of state information should go _somewhere_ under there (and `/var/spool` even says \u2018misc. printer and mail system spooling directories\u2019, so is a very obvious location for this).\r\n\r\nIf I instruct the daemon to change its configuration and as a result it rewrites a file in `/etc`, that's fine \u2013 that's my configuration change.  Bluntly, the daemon shouldn't be scribbling in my configuration files on its own initiative.",
        "created_at": "2022-10-28T15:11:19Z",
        "html_url": "https://github.com/apple/cups/issues/5313#issuecomment-1295118362",
        "id": 1295118362,
        "issue_url": "https://api.github.com/repos/apple/cups/issues/5313",
        "node_id": "IC_kwDOAqF9fM5NMfAa",
        "performed_via_github_app": null,
        "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/apple/cups/issues/comments/1295118362/reactions"
        },
        "updated_at": "2022-10-28T15:11:19Z",
        "url": "https://api.github.com/repos/apple/cups/issues/comments/1295118362",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/419631?v=4",
            "events_url": "https://api.github.com/users/nxg/events{/privacy}",
            "followers_url": "https://api.github.com/users/nxg/followers",
            "following_url": "https://api.github.com/users/nxg/following{/other_user}",
            "gists_url": "https://api.github.com/users/nxg/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/nxg",
            "id": 419631,
            "login": "nxg",
            "node_id": "MDQ6VXNlcjQxOTYzMQ==",
            "organizations_url": "https://api.github.com/users/nxg/orgs",
            "received_events_url": "https://api.github.com/users/nxg/received_events",
            "repos_url": "https://api.github.com/users/nxg/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/nxg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nxg/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/nxg"
        }
    }
]